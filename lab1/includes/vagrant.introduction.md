<div id="vagrant_introduction" class="section">

## What is Vagrant?

* [Vagrant](https://www.vagrantup.com/) is an  open-source software product for building and 
maintaining portable virtual software development environments:
* Aims to simplify configuration management of virtualizations in order to increase development productivity 
* Written in the Ruby programming language, and is thus highly extensible
* Supports numerous hypervisor [providers](https://www.vagrantup.com/docs/providers/), for example:
    - [VirtualBox](https://www.vagrantup.com/docs/virtualbox/)
    - [Hyper-V](https://www.vagrantup.com/docs/hyperv/)
    - [VMware](https://www.vagrantup.com/docs/vmware/)
    - [KVM/libvirt](https://github.com/vagrant-libvirt/vagrant-libvirt)
* It is a commandline tool
* Under the hood, it's just sending commands to the corresponding hypervisor 

![Vagrant 'talking' to Virtualbox](lab1/assets/images/vagrant_up_diagram.png)

Think of it like this:

<span style="font-size: 1.5em">Vagrant</span> is to **Virtual Machines** what <span style="font-size: 1.5em">[Docker](https://www.docker.com/)</span> is to **Containers**

### Terminology

Throughout the sections ahead, I'll make reference to the following terms:

- [box](https://www.vagrantup.com/docs/boxes.html) - This is vagrant terminology for *base image*
A box is similar to a **.vmdk** file in **vmware**<br />
In fact, you can convert a **.vmdk** file to vagrant **.box** format using `qemu-img convert`<br />
The process is rather involved, and is essentially a conversion from **.vmdk** => **.qcow2** => **.box**
- **machine**: Virtual machine
- **machine definition**: A yaml-formatted text file that describes all aspects of the machine in question, e.g.:
	- name
  	- groups
	- box
  	- interfaces
  	- disks
  	- synced_folders
    - ip
  	- vmem
  	- vcpu: 1
  	- provisioners
- [sample machine definition](environments/contoso/machines/!vagrant_group/!vagrant_machine.yaml)
- [synced folder](https://www.vagrantup.com/docs/synced-folders/) - A directory on the hypervisor host shared with the guest, read more: [Synced Folders](https://www.vagrantup.com/docs/synced-folders/)
- **scratch playbook** - An ad-hoc playbook that is generated by the project, used as a scratch space for the ansible run.<br />
  Default location of the scratch playbook is: .vagrant/machines/{{ machine_name }}/provisioners/ansible/
- [provisioning](https://www.vagrantup.com/docs/provisioning/) - The post-boot phase wherein the machine is configured. Vagrant supports **many many** [provisioners](https://www.vagrantup.com/docs/provisioning/basic_usage.html).<br />
This project makes use of the following provisioners:
	- [local](!provisioners_rb_url) (This is a custom-built provisioner I implemented)
	- [shell](https://www.vagrantup.com/docs/provisioning/shell.html)
	- [ansible](https://www.vagrantup.com/docs/provisioning/ansible.html)

### Installation

To install vagrant:

1. Navigate to the vagrant downloads site: [vagrant downloads](https://www.vagrantup.com/downloads.html)
1. Once downloaded, launch the installer and follow the prompts
  - The installer will make the `vagrant` command available through your *PATH* variable
  - If upon installation, the `vagrant` command is not found, you may need to restart whatever terminal you have open, e.g. cmd, bash, iterm2, cygwin, etc

Some notes:

- The **Install Lab Requirements** button at the <a href="#" class="flash" data-selector="#requirements" data-duration="300">top</a> is experimental and may not work, but you can give it a try (if you're on Windows).<br />
  You'll be presented with an installation menu from which you can choose to install vagrant.

- I **highly** recommend you install the following applications along with **vagrant**:
  - [cmder](http://cmder.net/)<br />
    The commandline experience presented through it more closely matches a posix-compliant operating environment
  - [Sublime Text 3](https://www.sublimetext.com/3)<br />
    Forget Notepad++, just throw it away. This one is king!

Once you've installed the tools, proceed to the next section: <a href="#" id="vagrant_lab" class="section_link">Preparing Your Lab</a>

</div>